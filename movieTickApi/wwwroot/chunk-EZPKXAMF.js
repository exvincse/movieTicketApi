import{a as H}from"./chunk-AFPS7HJU.js";import{a as j}from"./chunk-RRIXWZOK.js";import"./chunk-QXZLALXF.js";import{a as K}from"./chunk-22DMWHJU.js";import{a as G}from"./chunk-AN255T3T.js";import{a as R,b as V,i as z,m as N,n as $}from"./chunk-FBP2EEXM.js";import{h as T,l as P}from"./chunk-Q7SBYYKA.js";import{a as B}from"./chunk-AN7I7KN4.js";import{c as Y}from"./chunk-AKLULRCC.js";import"./chunk-4QTMHVTB.js";import{$a as t,Ab as y,Ac as k,Bb as E,Ec as A,Jb as s,Lb as d,Rb as I,Sb as D,Tb as u,ab as C,ma as F,nb as g,q as L,qb as o,sb as n,tb as i,ub as m,wa as h,wc as O,xa as b,yb as x}from"./chunk-K24PMR7C.js";import{a as _,b as w,f as J,g as S}from"./chunk-TSRGIXR5.js";var v=J(K());var Q=()=>["/movieList"],M=r=>({"background-image":r}),W=r=>["/ticketing",r];function X(r,a){if(r&1&&(n(0,"swiper-slide")(1,"div",16),m(2,"div",17),i()()),r&2){let e=a.$implicit;t(2),o("ngStyle",u(1,M,"url(https://image.tmdb.org/t/p/original"+e+")"))}}function Z(r,a){if(r&1){let e=x();n(0,"swiper-slide")(1,"div",18)(2,"div",19)(3,"a",20),y("click",function(){let l=h(e).$implicit,c=E();return b(c.openLightbox(l.id))}),m(4,"div",21),i(),n(5,"div",22)(6,"div",23),s(7),i(),n(8,"div",24),s(9),i(),n(10,"div",25),s(11),i()(),n(12,"a",26),s(13,"\u7DDA\u4E0A\u8A02\u7968"),i()()()()}if(r&2){let e=a.$implicit;t(4),o("ngStyle",u(5,M,"url(https://image.tmdb.org/t/p/w342"+e.poster_path+")")),t(3),d(" ",e.title," "),t(2),d(" ",e.overview," "),t(2),d("\u4E0A\u6620\u65E5\u671F\uFF1A",e.release_date,""),t(),o("routerLink",u(7,W,e.id))}}function ee(r,a){if(r&1){let e=x();n(0,"swiper-slide")(1,"div",18)(2,"div",19)(3,"a",20),y("click",function(){let l=h(e).$implicit,c=E();return b(c.openLightbox(l.id))}),m(4,"div",21),i(),n(5,"div",22)(6,"div",23),s(7),i(),n(8,"div",24),s(9),i(),n(10,"div",25),s(11),i()(),n(12,"a",26),s(13,"\u7DDA\u4E0A\u8A02\u7968"),i()()()()}if(r&2){let e=a.$implicit;t(4),o("ngStyle",u(5,M,"url(https://image.tmdb.org/t/p/w342"+e.poster_path+")")),t(3),d(" ",e.title," "),t(2),d(" ",e.overview," "),t(2),d("\u4E0A\u6620\u65E5\u671F\uFF1A",e.release_date,""),t(),o("routerLink",u(7,W,e.id))}}var U=class r{constructor(a,e){this.tmdbRepositoryService=a;this.sweetAlertService=e}faGreaterThan=z;faChevronLeft=N;faChevronRight=$;bannerSwiperConfig={slidesPerView:1,spaceBetween:10,loop:!0,pagination:!1,navigation:!1,observer:!0,observeParents:!0,autoplay:{delay:2500,disableOnInteraction:!1}};movieListConfig=w(_({},this.bannerSwiperConfig),{navigation:{nextEl:".swiper-button-next1",prevEl:".swiper-button-prev1"},loop:!1,autoplay:!1,breakpoints:{768:{slidesPerView:3},1024:{slidesPerView:4},1200:{slidesPerView:5}}});comingMovieListConfig=w(_({},this.movieListConfig),{navigation:{nextEl:".swiper-button-next2",prevEl:".swiper-button-prev2"}});hotMovieList=[];bannerImg=[];comingMovieList=[];ngOnInit(){return S(this,null,function*(){let a=(0,v.default)().startOf("month"),e=(0,v.default)().endOf("month"),p=yield this.getAllMovieList(1,a.format("YYYY-MM-DD"),e.format("YYYY-MM-DD"));this.hotMovieList=p.results||[],this.bannerImg=this.hotMovieList.filter(f=>f.backdrop_path!==null).map(f=>f.backdrop_path);let l=(0,v.default)().startOf("month").add(1,"month"),c=(0,v.default)().endOf("month").add(1,"month"),q=yield this.getAllMovieList(1,l.format("YYYY-MM-DD"),c.format("YYYY-MM-DD"));this.comingMovieList=q.results||[]})}getAllMovieList(a=1,e,p){return S(this,null,function*(){let l={language:"zh-TW",sort_by:"popularity.desc","primary_release_date.gte":e||"","primary_release_date.lte":p||"",page:a};return(yield L(this.tmdbRepositoryService.getMovieList(l)))||{results:[]}})}openLightbox(a){this.sweetAlertService.open(H,{data:{id:a}})}static \u0275fac=function(e){return new(e||r)(C(G),C(Y))};static \u0275cmp=F({type:r,selectors:[["app-index-page"]],standalone:!0,features:[I],decls:32,vars:12,consts:[[1,"l-swiper"],["appSwiper","","init","false",1,"swiper-container",3,"swiperConfig"],[4,"ngFor","ngForOf"],[1,"o-line"],[1,"l-headingBar"],[1,"l-headingBar__wrap"],[1,"l-headingBar__content"],[1,"l-headingBar__title"],[1,"l-headingBar__link"],[1,"o-link",3,"routerLink"],[3,"icon","size"],[1,"swiper-button-prev","swiper-button-prev1"],[1,"swiper-button-next","swiper-button-next1"],["href","#",1,"o-link"],[1,"swiper-button-prev","swiper-button-prev2"],[1,"swiper-button-next","swiper-button-next2"],[1,"c-banner"],[1,"c-banner__img",3,"ngStyle"],[1,"l-swiper__item"],[1,"c-movieCard","c-movieCard--column","c-movieCard--zoom"],["href","#","appStopPropagation","",1,"o-link",3,"click"],[1,"c-movieCard__img",3,"ngStyle"],[1,"c-movieCard__content","c-movieCard__content--gary"],[1,"c-movieCard__title"],[1,"c-movieCard__subTitle"],[1,"c-movieCard__date"],[1,"c-btn","c-btn--gap",3,"routerLink"]],template:function(e,p){e&1&&(n(0,"div",0)(1,"swiper-container",1),g(2,X,3,3,"swiper-slide",2),i()(),m(3,"div",3),n(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),s(8,"\u73FE\u6B63\u71B1\u6620"),i(),n(9,"div",8)(10,"a",9),s(11," \u700F\u89BD\u6240\u6709\u96FB\u5F71 "),m(12,"fa-icon",10),i()()()()(),n(13,"div",0)(14,"swiper-container",1),g(15,Z,14,9,"swiper-slide",2),i(),m(16,"div",11)(17,"div",12),i(),n(18,"div",4)(19,"div",5)(20,"div",6)(21,"div",7),s(22,"\u5373\u5C07\u71B1\u6620"),i(),n(23,"div",8)(24,"a",13),s(25," \u700F\u89BD\u6240\u6709\u96FB\u5F71 "),m(26,"fa-icon",10),i()()()()(),n(27,"div",0)(28,"swiper-container",1),g(29,ee,14,9,"swiper-slide",2),i(),m(30,"div",14)(31,"div",15),i()),e&2&&(t(),o("swiperConfig",p.bannerSwiperConfig),t(),o("ngForOf",p.bannerImg),t(8),o("routerLink",D(11,Q)),t(2),o("icon",p.faGreaterThan)("size","2xs"),t(2),o("swiperConfig",p.movieListConfig),t(),o("ngForOf",p.hotMovieList),t(11),o("icon",p.faGreaterThan)("size","2xs"),t(2),o("swiperConfig",p.comingMovieListConfig),t(),o("ngForOf",p.comingMovieList))},dependencies:[A,O,k,V,R,j,P,T,B]})};export{U as IndexPageComponent};
